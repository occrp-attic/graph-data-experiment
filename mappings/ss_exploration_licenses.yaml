database: $DATAVAULT_DATABASE_URI
table: ss_exploration_licenses
nodes:
  holder:
    label: Actor
    properties:
      actorName:
        column: parties
      fingerprint:
        column: parties
        transform: fingerprint
        key: true
  concession:
    label: Concession
    properties:
      assetName:
        column: code
      assetDescription:
        column: name
      concessionCommodities:
        column: commodities
      concessionArea:
        column: area
      fingerprint:
        format: "%(source_url)s//%(code)s"
        key: true
  concessionLocation:
    label: Address
    properties:
      address:
        column: mapref
      fingerprint:
        column: mapref
        transform: fingerprint
        key: true
  country:
    label: Country
    properties:
      countryCode:
        column: source_name
        key: true
edges:
  - label: HAS_RIGHTS
    source: holder
    target: concession
    properties:
      rightType:
        column: type
      legalBasis:
        column: jurisdic
      rightStatus:
        column: status
      applicationDate:
        column: dteapplied
  - label: LOCATED_AT
    source: concession
    target: concessionLocation
  - label: LOCATED_IN
    source: concession
    target: country
  - label: LOCATED_IN
    source: concessionLocation
    target: country
