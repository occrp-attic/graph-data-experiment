import os

DEBUG = True

APP_NAME = os.environ.get('MEMORIOUS_APP_NAME', 'memorious')
APP_TITLE = os.environ.get('MEMORIOUS_APP_TITLE', APP_NAME)
SECRET_KEY = os.environ.get('MEMORIOUS_SECRET_KEY')

DATABASE_URL = os.environ.get('DATABASE_URI')
ELASTICSEARCH_URL = os.environ.get('ELASTICSEARCH_URL')
BROKER_URL = os.environ.get('MEMORIOUS_BROKER_URL')

MODEL_YAML = os.environ.get('MEMORIOUS_MODEL', 'model.yaml')

CELERY_DEFAULT_QUEUE = APP_NAME + '_queue'
CELERY_ALWAYS_EAGER = False
CELERY_EAGER_PROPAGATES_EXCEPTIONS = True
CELERYD_MAX_TASKS_PER_CHILD = 1000
CELERYD_PREFETCH_MULTIPLIER = 10
CELERY_DISABLE_RATE_LIMITS = True
CELERY_TASK_SERIALIZER = 'json'
CELERY_ACCEPT_CONTENT = ['json']
CELERY_TIMEZONE = 'UTC'
CELERY_IGNORE_RESULT = True
CELERY_RESULT_PERSISTENT = False

# ultra-high time limit to shoot hung tasks:
CELERYD_TASK_TIME_LIMIT = 3600 * 3
CELERY_IMPORTS = ('memorious.queue')
